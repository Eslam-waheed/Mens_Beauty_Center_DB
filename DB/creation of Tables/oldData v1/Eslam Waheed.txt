-- create the Customer table
create table Customer (
    Code int identity(1,1) primary key,
    Name nvarchar(50) not null,
    PhoneNumber VARCHAR(11) CHECK (PhoneNumber LIKE '01[0125][0-9]%') not null
);

-- create the Package table
create table Package (
    ID int identity(1,1) primary key,
    Name nvarchar(50) not null,
    Description nvarchar(max) not null,
    TotalAmount decimal(18, 2) not null
);

-- Create the relationship between Package and Customer
create table PackageCustomer (
    CustomerId int foreign key references Customer(Code),
    PackageId int foreign key references Package(ID),
    Deposit decimal(9, 2) not null,
    TakeDate date not null,
    primary key (CustomerId, PackageId)
);
<<<<<<< HEAD

-- create the Serve table
create table serve (
    nationalid nvarchar(14) foreign key references employee(nationalid),
    customerid int foreign key references customer(code),
    serviceid int foreign key references service(id),
    servedate date not null,
    primary key (nationalid, customerid, serviceid)
);
=======
>>>>>>> 957e31aee3073a053c801701e549cdeca1b4fcc7
